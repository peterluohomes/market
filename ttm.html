<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trailing Twelve Month Dollar Volume – 25 Years</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
  <style>
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #ffffff;
      color: #7a6030;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 36px 24px 48px;
    }
    .card {
      background: #ffffff;
      border: 1px solid #c9a84c;
      border-radius: 14px;
      padding: 36px 40px 32px;
      width: 100%;
      max-width: 1200px;
      box-shadow: 0 8px 40px rgba(180,140,50,0.12);
    }
    .header {
      margin-bottom: 8px;
      text-align: center;
    }
    .title {
      font-size: 22px;
      font-weight: 700;
      color: #b8962e;
      letter-spacing: 0.3px;
    }
    .subtitle {
      font-size: 13px;
      color: #a07c2e;
      margin-top: 4px;
    }
    .stats-row {
      display: flex;
      gap: 24px;
      margin: 22px 0 28px;
      flex-wrap: wrap;
    }
    .stat {
      background: #0d1117;
      border: 1px solid #30363d;
      border-radius: 8px;
      padding: 12px 20px;
      min-width: 160px;
    }
    .stat-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.8px;
      color: #8b949e;
      margin-bottom: 4px;
    }
    .stat-value {
      font-size: 20px;
      font-weight: 700;
      color: #58a6ff;
    }
    .stat-value.peak { color: #3fb950; }
    .stat-value.trough { color: #f85149; }
    .chart-container {
      position: relative;
      height: 460px;
      width: 100%;
    }
    .source {
      margin-top: 18px;
      font-size: 11px;
      color: #a07c2e;
      text-align: right;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="header">
      <div class="title">Trailing Twelve Month Dollar Volume for 25 Years</div>
      <div class="subtitle">January 2001 – January 2026 &nbsp;|&nbsp; TRREB &nbsp;|&nbsp; Values in $Millions CAD</div>
    </div>

    <div class="chart-container">
      <canvas id="volChart"></canvas>
    </div>

  </div>

  <script>
    const rawData = [{"year":2001,"month":1,"volume":1192.1},{"year":2001,"month":2,"volume":1195.47},{"year":2001,"month":3,"volume":1201.06},{"year":2001,"month":4,"volume":1205.73},{"year":2001,"month":5,"volume":1243.79},{"year":2001,"month":6,"volume":1279.67},{"year":2001,"month":7,"volume":1307.49},{"year":2001,"month":8,"volume":1332.9},{"year":2001,"month":9,"volume":1335.01},{"year":2001,"month":10,"volume":1352.22},{"year":2001,"month":11,"volume":1375.91},{"year":2001,"month":12,"volume":1417.08},{"year":2002,"month":1,"volume":1462.85},{"year":2002,"month":2,"volume":1517.83},{"year":2002,"month":3,"volume":1560.87},{"year":2002,"month":4,"volume":1621.93},{"year":2002,"month":5,"volume":1649.11},{"year":2002,"month":6,"volume":1648.26},{"year":2002,"month":7,"volume":1658.69},{"year":2002,"month":8,"volume":1658.31},{"year":2002,"month":9,"volume":1693.33},{"year":2002,"month":10,"volume":1730.62},{"year":2002,"month":11,"volume":1738.48},{"year":2002,"month":12,"volume":1719.3},{"year":2003,"month":1,"volume":1715.84},{"year":2003,"month":2,"volume":1704.98},{"year":2003,"month":3,"volume":1699.78},{"year":2003,"month":4,"volume":1688.76},{"year":2003,"month":5,"volume":1701.83},{"year":2003,"month":6,"volume":1745.43},{"year":2003,"month":7,"volume":1809.26},{"year":2003,"month":8,"volume":1844.83},{"year":2003,"month":9,"volume":1874.39},{"year":2003,"month":10,"volume":1907.49},{"year":2003,"month":11,"volume":1922.79},{"year":2003,"month":12,"volume":1940.14},{"year":2004,"month":1,"volume":1941.9},{"year":2004,"month":2,"volume":1954.42},{"year":2004,"month":3,"volume":2017.8},{"year":2004,"month":4,"volume":2084.81},{"year":2004,"month":5,"volume":2134.58},{"year":2004,"month":6,"volume":2181.7},{"year":2004,"month":7,"volume":2177.23},{"year":2004,"month":8,"volume":2192.6},{"year":2004,"month":9,"volume":2201.47},{"year":2004,"month":10,"volume":2197.98},{"year":2004,"month":11,"volume":2218.43},{"year":2004,"month":12,"volume":2230.2},{"year":2005,"month":1,"volume":2237.06},{"year":2005,"month":2,"volume":2252.31},{"year":2005,"month":3,"volume":2237.71},{"year":2005,"month":4,"volume":2244.22},{"year":2005,"month":5,"volume":2260.74},{"year":2005,"month":6,"volume":2279.31},{"year":2005,"month":7,"volume":2289.2},{"year":2005,"month":8,"volume":2320.07},{"year":2005,"month":9,"volume":2350.4},{"year":2005,"month":10,"volume":2375.03},{"year":2005,"month":11,"volume":2396.57},{"year":2005,"month":12,"volume":2401.24},{"year":2006,"month":1,"volume":2416.57},{"year":2006,"month":2,"volume":2443.93},{"year":2006,"month":3,"volume":2482.44},{"year":2006,"month":4,"volume":2486.14},{"year":2006,"month":5,"volume":2507.62},{"year":2006,"month":6,"volume":2504.89},{"year":2006,"month":7,"volume":2506.05},{"year":2006,"month":8,"volume":2500.67},{"year":2006,"month":9,"volume":2486.83},{"year":2006,"month":10,"volume":2486.33},{"year":2006,"month":11,"volume":2483.57},{"year":2006,"month":12,"volume":2492.14},{"year":2007,"month":1,"volume":2517.45},{"year":2007,"month":2,"volume":2526.25},{"year":2007,"month":3,"volume":2529.32},{"year":2007,"month":4,"volume":2572.37},{"year":2007,"month":5,"volume":2640.55},{"year":2007,"month":6,"volume":2712.73},{"year":2007,"month":7,"volume":2782.7},{"year":2007,"month":8,"volume":2829.14},{"year":2007,"month":9,"volume":2853.97},{"year":2007,"month":10,"volume":2910.04},{"year":2007,"month":11,"volume":2963.8},{"year":2007,"month":12,"volume":2992.11},{"year":2008,"month":1,"volume":2997.99},{"year":2008,"month":2,"volume":2981.43},{"year":2008,"month":3,"volume":2932.3},{"year":2008,"month":4,"volume":2924.87},{"year":2008,"month":5,"volume":2881.57},{"year":2008,"month":6,"volume":2832.62},{"year":2008,"month":7,"volume":2802.4},{"year":2008,"month":8,"volume":2751.48},{"year":2008,"month":9,"volume":2731.27},{"year":2008,"month":10,"volume":2622.6},{"year":2008,"month":11,"volume":2494.45},{"year":2008,"month":12,"volume":2419.16},{"year":2009,"month":1,"volume":2337.26},{"year":2009,"month":2,"volume":2269.81},{"year":2009,"month":3,"volume":2245.82},{"year":2009,"month":4,"volume":2215.25},{"year":2009,"month":5,"volume":2219.12},{"year":2009,"month":6,"volume":2304.21},{"year":2009,"month":7,"volume":2391.02},{"year":2009,"month":8,"volume":2458.66},{"year":2009,"month":9,"volume":2539.26},{"year":2009,"month":10,"volume":2686.8},{"year":2009,"month":11,"volume":2834.65},{"year":2009,"month":12,"volume":2947.24},{"year":2010,"month":1,"volume":3040.75},{"year":2010,"month":2,"volume":3178.88},{"year":2010,"month":3,"volume":3370.52},{"year":2010,"month":4,"volume":3507.4},{"year":2010,"month":5,"volume":3543.71},{"year":2010,"month":6,"volume":3480.97},{"year":2010,"month":7,"volume":3382.54},{"year":2010,"month":8,"volume":3336.25},{"year":2010,"month":9,"volume":3283.06},{"year":2010,"month":10,"volume":3230.93},{"year":2010,"month":11,"volume":3208.91},{"year":2010,"month":12,"volume":3177.63},{"year":2011,"month":1,"volume":3156.65},{"year":2011,"month":2,"volume":3123.33},{"year":2011,"month":3,"volume":3087.21},{"year":2011,"month":4,"volume":3038.58},{"year":2011,"month":5,"volume":3081.15},{"year":2011,"month":6,"volume":3168.67},{"year":2011,"month":7,"volume":3232.31},{"year":2011,"month":8,"volume":3293.93},{"year":2011,"month":9,"volume":3356.16},{"year":2011,"month":10,"volume":3402.55},{"year":2011,"month":11,"volume":3439.85},{"year":2011,"month":12,"volume":3452.68},{"year":2012,"month":1,"volume":3479.78},{"year":2012,"month":2,"volume":3545.4},{"year":2012,"month":3,"volume":3608.74},{"year":2012,"month":4,"volume":3690.79},{"year":2012,"month":5,"volume":3747.99},{"year":2012,"month":6,"volume":3740.57},{"year":2012,"month":7,"volume":3737.74},{"year":2012,"month":8,"volume":3711.46},{"year":2012,"month":9,"volume":3662.67},{"year":2012,"month":10,"volume":3651.14},{"year":2012,"month":11,"volume":3606.48},{"year":2012,"month":12,"volume":3581.92},{"year":2013,"month":1,"volume":3575.75},{"year":2013,"month":2,"volume":3519.66},{"year":2013,"month":3,"volume":3439.44},{"year":2013,"month":4,"volume":3425.71},{"year":2013,"month":5,"volume":3421.51},{"year":2013,"month":6,"volume":3424.68},{"year":2013,"month":7,"volume":3491.06},{"year":2013,"month":8,"volume":3551.25},{"year":2013,"month":9,"volume":3635.13},{"year":2013,"month":10,"volume":3710.1},{"year":2013,"month":11,"volume":3764.88},{"year":2013,"month":12,"volume":3793.58},{"year":2014,"month":1,"volume":3803.85},{"year":2014,"month":2,"volume":3827.89},{"year":2014,"month":3,"volume":3877.46},{"year":2014,"month":4,"volume":3925.99},{"year":2014,"month":5,"volume":4014.97},{"year":2014,"month":6,"volume":4106.44},{"year":2014,"month":7,"volume":4169.46},{"year":2014,"month":8,"volume":4205.38},{"year":2014,"month":9,"volume":4266.55},{"year":2014,"month":10,"volume":4327.41},{"year":2014,"month":11,"volume":4355.54},{"year":2014,"month":12,"volume":4385.85},{"year":2015,"month":1,"volume":4404.63},{"year":2015,"month":2,"volume":4454.98},{"year":2015,"month":3,"volume":4535.1},{"year":2015,"month":4,"volume":4666.02},{"year":2015,"month":5,"volume":4759.19},{"year":2015,"month":6,"volume":4912.67},{"year":2015,"month":7,"volume":4990.36},{"year":2015,"month":8,"volume":5044.94},{"year":2015,"month":9,"volume":5088.02},{"year":2015,"month":10,"volume":5130.32},{"year":2015,"month":11,"volume":5204.03},{"year":2015,"month":12,"volume":5247.23},{"year":2016,"month":1,"volume":5291.94},{"year":2016,"month":2,"volume":5412.5},{"year":2016,"month":3,"volume":5546.22},{"year":2016,"month":4,"volume":5690.48},{"year":2016,"month":5,"volume":5862.36},{"year":2016,"month":6,"volume":6020.52},{"year":2016,"month":7,"volume":6110.82},{"year":2016,"month":8,"volume":6289.05},{"year":2016,"month":9,"volume":6482.59},{"year":2016,"month":10,"volume":6640.57},{"year":2016,"month":11,"volume":6806.0},{"year":2016,"month":12,"volume":6881.52},{"year":2017,"month":1,"volume":6967.88},{"year":2017,"month":2,"volume":7115.51},{"year":2017,"month":3,"volume":7438.77},{"year":2017,"month":4,"volume":7574.99},{"year":2017,"month":5,"volume":7496.15},{"year":2017,"month":6,"volume":7224.64},{"year":2017,"month":7,"volume":7001.14},{"year":2017,"month":8,"volume":6807.54},{"year":2017,"month":9,"volume":6596.53},{"year":2017,"month":10,"volume":6438.24},{"year":2017,"month":11,"volume":6350.76},{"year":2017,"month":12,"volume":6324.42},{"year":2018,"month":1,"volume":6238.87},{"year":2018,"month":2,"volume":5987.37},{"year":2018,"month":3,"volume":5545.78},{"year":2018,"month":4,"volume":5188.19},{"year":2018,"month":5,"volume":4981.75},{"year":2018,"month":6,"volume":5001.35},{"year":2018,"month":7,"volume":5087.37},{"year":2018,"month":8,"volume":5136.93},{"year":2018,"month":9,"volume":5154.24},{"year":2018,"month":10,"volume":5197.05},{"year":2018,"month":11,"volume":5142.02},{"year":2018,"month":12,"volume":5079.79},{"year":2019,"month":1,"volume":5082.36},{"year":2019,"month":2,"volume":5076.66},{"year":2019,"month":3,"volume":5075.15},{"year":2019,"month":4,"volume":5171.32},{"year":2019,"month":5,"volume":5349.61},{"year":2019,"month":6,"volume":5420.97},{"year":2019,"month":7,"volume":5545.55},{"year":2019,"month":8,"volume":5618.9},{"year":2019,"month":9,"volume":5739.69},{"year":2019,"month":10,"volume":5836.5},{"year":2019,"month":11,"volume":5922.42},{"year":2019,"month":12,"volume":5991.04},{"year":2020,"month":1,"volume":6061.47},{"year":2020,"month":2,"volume":6283.28},{"year":2020,"month":3,"volume":6412.59},{"year":2020,"month":4,"volume":5999.15},{"year":2020,"month":5,"volume":5634.69},{"year":2020,"month":6,"volume":5693.92},{"year":2020,"month":7,"volume":5986.4},{"year":2020,"month":8,"volume":6331.01},{"year":2020,"month":9,"volume":6668.01},{"year":2020,"month":10,"volume":6917.69},{"year":2020,"month":11,"volume":7119.03},{"year":2020,"month":12,"volume":7371.82},{"year":2021,"month":1,"volume":7608.73},{"year":2021,"month":2,"volume":8014.47},{"year":2021,"month":3,"volume":8845.74},{"year":2021,"month":4,"volume":9880.54},{"year":2021,"month":5,"volume":10649.04},{"year":2021,"month":6,"volume":10980.94},{"year":2021,"month":7,"volume":10939.3},{"year":2021,"month":8,"volume":10850.16},{"year":2021,"month":9,"volume":10818.47},{"year":2021,"month":10,"volume":10907.71},{"year":2021,"month":11,"volume":11080.54},{"year":2021,"month":12,"volume":11102.93},{"year":2022,"month":1,"volume":11127.48},{"year":2022,"month":2,"volume":11179.83},{"year":2022,"month":3,"volume":10926.58},{"year":2022,"month":4,"volume":10517.27},{"year":2022,"month":5,"volume":10147.53},{"year":2022,"month":6,"volume":9757.93},{"year":2022,"month":7,"volume":9367.46},{"year":2022,"month":8,"volume":9108.03},{"year":2022,"month":9,"volume":8709.25},{"year":2022,"month":10,"volume":8219.73},{"year":2022,"month":11,"volume":7757.57},{"year":2022,"month":12,"volume":7450.45},{"year":2023,"month":1,"volume":7137.84},{"year":2023,"month":2,"volume":6568.44},{"year":2023,"month":3,"volume":6026.22},{"year":2023,"month":4,"volume":5917.62},{"year":2023,"month":5,"volume":6080.65},{"year":2023,"month":6,"volume":6198.41},{"year":2023,"month":7,"volume":6248.52},{"year":2023,"month":8,"volume":6219.31},{"year":2023,"month":9,"volume":6194.98},{"year":2023,"month":10,"volume":6177.9},{"year":2023,"month":11,"volume":6146.89},{"year":2023,"month":12,"volume":6182.9},{"year":2024,"month":1,"volume":6273.42},{"year":2024,"month":2,"volume":6353.48},{"year":2024,"month":3,"volume":6328.95},{"year":2024,"month":4,"volume":6312.82},{"year":2024,"month":5,"volume":6121.62},{"year":2024,"month":6,"volume":5988.18},{"year":2024,"month":7,"volume":5996.8},{"year":2024,"month":8,"volume":5980.27},{"year":2024,"month":9,"volume":6009.36},{"year":2024,"month":10,"volume":6219.75},{"year":2024,"month":11,"volume":6383.84},{"year":2024,"month":12,"volume":6373.5},{"year":2025,"month":1,"volume":6350.36},{"year":2025,"month":2,"volume":6200.9},{"year":2025,"month":3,"volume":6048.45},{"year":2025,"month":4,"volume":5862.41},{"year":2025,"month":5,"volume":5744.46},{"year":2025,"month":6,"volume":5719.92},{"year":2025,"month":7,"volume":5760.13},{"year":2025,"month":8,"volume":5746.68},{"year":2025,"month":9,"volume":5782.15},{"year":2025,"month":10,"volume":5679.41},{"year":2025,"month":11,"volume":5572.57},{"year":2025,"month":12,"volume":5584.01},{"year":2026,"month":1,"volume":5500.25}];

    const monthNames = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];

    const labels = rawData.map(d => {
      if (d.month === 1) return `Jan ${d.year}`;
      if (d.month === 7) return `Jul ${d.year}`;
      return '';
    });

    const fullLabels = rawData.map(d => `${monthNames[d.month-1]} ${d.year}`);
    const values = rawData.map(d => d.volume);

    // Gradient fill
    const ctx = document.getElementById('volChart').getContext('2d');

    const gradient = ctx.createLinearGradient(0, 0, 0, 460);
    gradient.addColorStop(0, 'rgba(184,150,46,0.30)');
    gradient.addColorStop(0.6, 'rgba(184,150,46,0.07)');
    gradient.addColorStop(1, 'rgba(184,150,46,0.01)');

    // Color line segments by trend
    const pointColors = values.map((v, i) => {
      if (i === 0) return '#58a6ff';
      return v >= values[i-1] ? '#3fb950' : '#f85149';
    });

    new Chart(ctx, {
      type: 'line',
      data: {
        labels: fullLabels,
        datasets: [{
          label: 'TTM Dollar Volume ($M)',
          data: values,
          borderColor: '#b8962e',
          backgroundColor: gradient,
          borderWidth: 2,
          pointRadius: 0,
          pointHoverRadius: 5,
          pointHoverBackgroundColor: '#b8962e',
          pointHoverBorderColor: '#fff',
          pointHoverBorderWidth: 2,
          fill: true,
          tension: 0.3
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        interaction: {
          mode: 'index',
          intersect: false
        },
        plugins: {
          legend: { display: false },
          tooltip: {
            backgroundColor: '#fdf8ec',
            borderColor: '#c9a84c',
            borderWidth: 1,
            titleColor: '#a07c2e',
            bodyColor: '#7a6030',
            padding: 12,
            callbacks: {
              title: ctx => ctx[0].label,
              label: ctx => ` TTM Volume: $${ctx.parsed.y.toLocaleString('en-CA', {minimumFractionDigits:2, maximumFractionDigits:2})}M`
            }
          },
          annotation: {}
        },
        scales: {
          x: {
            grid: { color: 'rgba(201,168,76,0.2)', drawTicks: false },
            ticks: {
              color: '#a07c2e',
              font: { size: 11 },
              maxRotation: 60,
              minRotation: 60,
              autoSkip: false,
              callback: function(val, index) {
                const d = rawData[index];
                if (d.month === 1) return `${d.year}`;
                return '';
              }
            },
            border: { color: '#c9a84c' }
          },
          y: {
            position: 'left',
            grid: { color: 'rgba(201,168,76,0.2)', drawTicks: false },
            ticks: {
              color: '#a07c2e',
              font: { size: 11 },
              callback: v => `$${(v/1000).toFixed(0)}B`
            },
            border: { color: '#c9a84c', dash: [4,4] },
            title: {
              display: true,
              text: 'TTM Dollar Volume ($M)',
              color: '#c9a84c',
              font: { size: 11 }
            }
          }
        }
      }
    });
  </script>
</body>
</html>
