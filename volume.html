<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TRREB Transaction Volume</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.1/chart.umd.min.js"></script>
<style>
@import url('https://fonts.googleapis.com/css2?family=Manrope:wght@300;400;500;600;700&display=swap');

:root {
  --nv: #162A3E;
  --nv2: #1E3550;
  --nv3: #E8EEF4;
  --au: #C2A04E;
  --au2: #A6873A;
  --au4: #EDE0C0;
  --c3: #4E6A82;
  --c4: #7E97AC;
  --c5: #9FB4C4;
  --c7: #E0E8EF;
  --bg: #F7F9FC;
  --red: #C0392B;
  --green: #2E7D5B;
}

* { margin: 0; padding: 0; box-sizing: border-box; }

body {
  background: var(--bg);
  font-family: 'Manrope', sans-serif;
  -webkit-font-smoothing: antialiased;
}

.top-accent { height: 5px; background: var(--au); }

.header {
  background: var(--nv);
  padding: 20px 32px;
  display: flex;
  justify-content: center;
  text-align: center;
}
.header-title {
  color: #fff;
  font-size: 16px;
  font-weight: 700;
  letter-spacing: 2px;
}

.chart-wrap {
  max-width: 1200px;
  margin: 32px auto;
  padding: 0 24px;
}

.chart-card {
  background: #fff;
  border: 1px solid var(--c7);
  padding: 28px 28px 20px;
  position: relative;
}

.chart-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: linear-gradient(90deg, var(--au), var(--c7) 60%);
}

.chart-header {
  display: flex;
  justify-content: center;
  text-align: center;
  margin-bottom: 20px;
}

.chart-title {
  font-size: 22px;
  font-weight: 700;
  color: var(--nv);
  letter-spacing: -0.3px;
}

.chart-subtitle {
  font-size: 11px;
  color: var(--c4);
  margin-top: 4px;
}

.legend {
  display: flex;
  gap: 16px;
  align-items: center;
  justify-content: center;
  margin-top: 16px;
  margin-bottom: 8px;
}

.legend-item {
  display: flex;
  align-items: center;
  gap: 6px;
  font-size: 11px;
  font-weight: 600;
  color: var(--nv2);
  cursor: pointer;
  padding: 5px 12px;
  border-radius: 20px;
  border: 1px solid var(--c7);
  transition: all 0.2s;
  user-select: none;
}

.legend-item:hover { background: var(--nv3); }
.legend-item.inactive { opacity: 0.35; }

.legend-dot {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  flex-shrink: 0;
}

.chart-canvas-wrap {
  position: relative;
  height: 420px;
}

.chart-footer {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 16px;
  padding-top: 12px;
  border-top: 1px solid var(--c7);
}

.chart-footer-left {
  font-size: 9px;
  color: var(--c5);
  letter-spacing: 2px;
  text-transform: uppercase;
}

.chart-footer-right {
  font-size: 9px;
  color: var(--c5);
  letter-spacing: 2px;
  text-transform: uppercase;
}

@media print {
  body { background: #fff; }
  .chart-card { border: none; box-shadow: none; }
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}
</style>
</head>
<body>

<div class="top-accent"></div>

<div class="header">
  <div>
    <div class="header-title">TRREB Transaction Volume</div>
  </div>
</div>

<div class="chart-wrap">
  <div class="chart-card">
    <div class="chart-header">
      <div>
        <div class="chart-title">TRREB Twelve Month Average Volume (Billion Dollars)</div>
      </div>
    </div>
    <div class="chart-canvas-wrap">
      <canvas id="volumeChart"></canvas>
    </div>
    <div class="legend" id="legend"></div>
    <div class="chart-footer">
      <div class="chart-footer-left">RE/MAX Realtron Realty Inc., Brokerage</div>
      <div class="chart-footer-right">Peter Luo · SRS · MCNE</div>
    </div>
  </div>
</div>

<script>
const rawData = {"labels": ["2000", "", "", "", "", "", "", "", "", "", "", "", "2001", "", "", "", "", "", "", "", "", "", "", "", "2002", "", "", "", "", "", "", "", "", "", "", "", "2003", "", "", "", "", "", "", "", "", "", "", "", "2004", "", "", "", "", "", "", "", "", "", "", "", "2005", "", "", "", "", "", "", "", "", "", "", "", "2006", "", "", "", "", "", "", "", "", "", "", "", "2007", "", "", "", "", "", "", "", "", "", "", "", "2008", "", "", "", "", "", "", "", "", "", "", "", "2009", "", "", "", "", "", "", "", "", "", "", "", "2010", "", "", "", "", "", "", "", "", "", "", "", "2011", "", "", "", "", "", "", "", "", "", "", "", "2012", "", "", "", "", "", "", "", "", "", "", "", "2013", "", "", "", "", "", "", "", "", "", "", "", "2014", "", "", "", "", "", "", "", "", "", "", "", "2015", "", "", "", "", "", "", "", "", "", "", "", "2016", "", "", "", "", "", "", "", "", "", "", "", "2017", "", "", "", "", "", "", "", "", "", "", "", "2018", "", "", "", "", "", "", "", "", "", "", "", "2019", "", "", "", "", "", "", "", "", "", "", "", "2020", "", "", "", "", "", "", "", "", "", "", "", "2021", "", "", "", "", "", "", "", "", "", "", "", "2022", "", "", "", "", "", "", "", "", "", "", "", "2023", "", "", "", "", "", "", "", "", "", "", "", "2024", "", "", "", "", "", "", "", "", "", "", "", "2025", "", "", "", "", "", "", "", "", "", "", "", "2026"], "colC": [1.13, 1.15, 1.16, 1.16, 1.16, 1.15, 1.15, 1.15, 1.16, 1.17, 1.19, 1.18, 1.19, 1.2, 1.2, 1.21, 1.24, 1.28, 1.31, 1.33, 1.34, 1.35, 1.38, 1.42, 1.46, 1.52, 1.56, 1.62, 1.65, 1.65, 1.66, 1.66, 1.69, 1.73, 1.74, 1.72, 1.72, 1.7, 1.7, 1.69, 1.7, 1.75, 1.81, 1.84, 1.87, 1.91, 1.92, 1.94, 1.94, 1.95, 2.02, 2.08, 2.13, 2.18, 2.18, 2.19, 2.2, 2.2, 2.22, 2.23, 2.24, 2.25, 2.24, 2.24, 2.26, 2.28, 2.29, 2.32, 2.35, 2.38, 2.4, 2.4, 2.42, 2.44, 2.48, 2.49, 2.51, 2.5, 2.51, 2.5, 2.49, 2.49, 2.48, 2.49, 2.52, 2.53, 2.53, 2.57, 2.64, 2.71, 2.78, 2.83, 2.85, 2.91, 2.96, 2.99, 3.0, 2.98, 2.93, 2.92, 2.88, 2.83, 2.8, 2.75, 2.73, 2.62, 2.49, 2.42, 2.34, 2.27, 2.25, 2.22, 2.22, 2.3, 2.39, 2.46, 2.54, 2.69, 2.83, 2.95, 3.04, 3.18, 3.37, 3.51, 3.54, 3.48, 3.38, 3.34, 3.28, 3.23, 3.21, 3.18, 3.16, 3.12, 3.09, 3.04, 3.08, 3.17, 3.23, 3.29, 3.36, 3.4, 3.44, 3.45, 3.48, 3.55, 3.61, 3.69, 3.75, 3.74, 3.74, 3.71, 3.66, 3.65, 3.61, 3.58, 3.58, 3.52, 3.44, 3.43, 3.42, 3.42, 3.49, 3.55, 3.64, 3.71, 3.76, 3.79, 3.8, 3.83, 3.88, 3.93, 4.01, 4.11, 4.17, 4.21, 4.27, 4.33, 4.36, 4.39, 4.4, 4.45, 4.54, 4.67, 4.76, 4.91, 4.99, 5.04, 5.09, 5.13, 5.2, 5.25, 5.29, 5.41, 5.55, 5.69, 5.86, 6.02, 6.11, 6.29, 6.48, 6.64, 6.81, 6.88, 6.97, 7.12, 7.44, 7.57, 7.5, 7.22, 7.0, 6.81, 6.6, 6.44, 6.35, 6.32, 6.24, 5.99, 5.55, 5.19, 4.98, 5.0, 5.09, 5.14, 5.15, 5.2, 5.14, 5.08, 5.08, 5.08, 5.08, 5.17, 5.35, 5.42, 5.55, 5.62, 5.74, 5.84, 5.92, 5.99, 6.06, 6.28, 6.41, 6.0, 5.63, 5.69, 5.99, 6.33, 6.67, 6.92, 7.12, 7.37, 7.61, 8.01, 8.85, 9.88, 10.65, 10.98, 10.94, 10.85, 10.82, 10.91, 11.08, 11.1, 11.13, 11.18, 10.93, 10.52, 10.15, 9.76, 9.37, 9.11, 8.71, 8.22, 7.76, 7.45, 7.14, 6.57, 6.03, 5.92, 6.08, 6.2, 6.25, 6.22, 6.19, 6.18, 6.15, 6.18, 6.27, 6.35, 6.33, 6.31, 6.12, 5.99, 6.0, 5.98, 6.01, 6.22, 6.38, 6.37, 6.35, 6.2, 6.05, 5.86, 5.74, 5.72, 5.76, 5.75, 5.78, 5.68, 5.57, 5.58, 5.5], "colF": [1.13, 1.14, 1.14, 1.15, 1.16, 1.16, 1.17, 1.18, 1.19, 1.19, 1.2, 1.21, 1.21, 1.22, 1.23, 1.24, 1.24, 1.25, 1.26, 1.27, 1.27, 1.28, 1.29, 1.3, 1.3, 1.31, 1.32, 1.33, 1.33, 1.34, 1.35, 1.36, 1.37, 1.37, 1.38, 1.39, 1.4, 1.41, 1.42, 1.42, 1.43, 1.44, 1.45, 1.46, 1.47, 1.48, 1.49, 1.49, 1.5, 1.51, 1.52, 1.53, 1.54, 1.55, 1.56, 1.57, 1.58, 1.59, 1.59, 1.6, 1.61, 1.62, 1.63, 1.64, 1.65, 1.66, 1.67, 1.68, 1.69, 1.7, 1.71, 1.72, 1.73, 1.74, 1.75, 1.76, 1.77, 1.78, 1.8, 1.81, 1.82, 1.83, 1.84, 1.85, 1.86, 1.87, 1.88, 1.89, 1.91, 1.92, 1.93, 1.94, 1.95, 1.96, 1.97, 1.99, 2.0, 2.01, 2.02, 2.03, 2.05, 2.06, 2.07, 2.08, 2.09, 2.11, 2.12, 2.13, 2.15, 2.16, 2.17, 2.18, 2.2, 2.21, 2.22, 2.24, 2.25, 2.26, 2.28, 2.29, 2.3, 2.32, 2.33, 2.34, 2.36, 2.37, 2.39, 2.4, 2.42, 2.43, 2.44, 2.46, 2.47, 2.49, 2.5, 2.52, 2.53, 2.55, 2.56, 2.58, 2.59, 2.61, 2.62, 2.64, 2.66, 2.67, 2.69, 2.7, 2.72, 2.74, 2.75, 2.77, 2.79, 2.8, 2.82, 2.84, 2.85, 2.87, 2.89, 2.9, 2.92, 2.94, 2.96, 2.97, 2.99, 3.01, 3.03, 3.04, 3.06, 3.08, 3.1, 3.12, 3.14, 3.15, 3.17, 3.19, 3.21, 3.23, 3.25, 3.27, 3.29, 3.31, 3.33, 3.35, 3.37, 3.39, 3.41, 3.43, 3.45, 3.47, 3.49, 3.51, 3.53, 3.55, 3.57, 3.59, 3.62, 3.64, 3.66, 3.68, 3.7, 3.72, 3.75, 3.77, 3.79, 3.81, 3.84, 3.86, 3.88, 3.91, 3.93, 3.95, 3.98, 4.0, 4.02, 4.05, 4.07, 4.1, 4.12, 4.14, 4.17, 4.19, 4.22, 4.24, 4.27, 4.29, 4.32, 4.35, 4.37, 4.4, 4.42, 4.45, 4.48, 4.5, 4.53, 4.56, 4.58, 4.61, 4.64, 4.67, 4.69, 4.72, 4.75, 4.78, 4.81, 4.84, 4.86, 4.89, 4.92, 4.95, 4.98, 5.01, 5.04, 5.07, 5.1, 5.13, 5.16, 5.19, 5.22, 5.25, 5.29, 5.32, 5.35, 5.38, 5.41, 5.44, 5.48, 5.51, 5.54, 5.58, 5.61, 5.64, 5.68, 5.71, 5.74, 5.78, 5.81, 5.85, 5.88, 5.92, 5.95, 5.99, 6.02, 6.06, 6.09, 6.13, 6.17, 6.2, 6.24, 6.28, 6.32, 6.35, 6.39, 6.43, 6.47, 6.51, 6.54, 6.58, 6.62, 6.66, 6.7, 6.74, 6.78, 6.82, 6.86, 6.9, 6.94, 6.99, 7.03, 7.07, 7.11, 7.15, 7.2], "colG": [1.13, 1.14, 1.15, 1.16, 1.17, 1.18, 1.19, 1.2, 1.21, 1.22, 1.23, 1.24, 1.26, 1.27, 1.28, 1.29, 1.3, 1.31, 1.32, 1.34, 1.35, 1.36, 1.37, 1.38, 1.39, 1.41, 1.42, 1.43, 1.44, 1.46, 1.47, 1.48, 1.5, 1.51, 1.52, 1.54, 1.55, 1.56, 1.58, 1.59, 1.6, 1.62, 1.63, 1.65, 1.66, 1.68, 1.69, 1.71, 1.72, 1.74, 1.75, 1.77, 1.78, 1.8, 1.81, 1.83, 1.85, 1.86, 1.88, 1.9, 1.91, 1.93, 1.95, 1.96, 1.98, 2.0, 2.02, 2.03, 2.05, 2.07, 2.09, 2.11, 2.12, 2.14, 2.16, 2.18, 2.2, 2.22, 2.24, 2.26, 2.28, 2.3, 2.32, 2.34, 2.36, 2.38, 2.4, 2.42, 2.44, 2.47, 2.49, 2.51, 2.53, 2.55, 2.58, 2.6, 2.62, 2.64, 2.67, 2.69, 2.71, 2.74, 2.76, 2.79, 2.81, 2.84, 2.86, 2.89, 2.91, 2.94, 2.96, 2.99, 3.02, 3.04, 3.07, 3.1, 3.12, 3.15, 3.18, 3.21, 3.23, 3.26, 3.29, 3.32, 3.35, 3.38, 3.41, 3.44, 3.47, 3.5, 3.53, 3.56, 3.59, 3.62, 3.66, 3.69, 3.72, 3.75, 3.79, 3.82, 3.85, 3.89, 3.92, 3.96, 3.99, 4.03, 4.06, 4.1, 4.13, 4.17, 4.21, 4.24, 4.28, 4.32, 4.36, 4.4, 4.43, 4.47, 4.51, 4.55, 4.59, 4.63, 4.67, 4.71, 4.76, 4.8, 4.84, 4.88, 4.93, 4.97, 5.01, 5.06, 5.1, 5.15, 5.19, 5.24, 5.28, 5.33, 5.38, 5.42, 5.47, 5.52, 5.57, 5.62, 5.67, 5.72, 5.77, 5.82, 5.87, 5.92, 5.97, 6.03, 6.08, 6.13, 6.19, 6.24, 6.3, 6.35, 6.41, 6.46, 6.52, 6.58, 6.64, 6.69, 6.75, 6.81, 6.87, 6.93, 6.99, 7.05, 7.12, 7.18, 7.24, 7.31, 7.37, 7.44, 7.5, 7.57, 7.63, 7.7, 7.77, 7.84, 7.91, 7.98, 8.05, 8.12, 8.19, 8.26, 8.33, 8.41, 8.48, 8.55, 8.63, 8.71, 8.78, 8.86, 8.94, 9.02, 9.1, 9.18, 9.26, 9.34, 9.42, 9.5, 9.59, 9.67, 9.76, 9.84, 9.93, 10.02, 10.1, 10.19, 10.28, 10.37, 10.46, 10.56, 10.65, 10.74, 10.84, 10.93, 11.03, 11.13, 11.22, 11.32, 11.42, 11.52, 11.62, 11.73, 11.83, 11.93, 12.04, 12.15, 12.25, 12.36, 12.47, 12.58, 12.69, 12.8, 12.91, 13.03, 13.14, 13.26, 13.37, 13.49, 13.61, 13.73, 13.85, 13.97, 14.1, 14.22, 14.34, 14.47, 14.6, 14.73, 14.86, 14.99, 15.12, 15.25, 15.39, 15.52, 15.66, 15.8, 15.94, 16.08, 16.22, 16.36, 16.5, 16.65, 16.8, 16.94, 17.09, 17.24, 17.39]};

const GOLD = '#C2A04E';
const RED  = '#C0392B';
const GREEN = '#2E7D5B';
const NAVY = '#162A3E';
const GRID = '#E0E8EF';

const datasets = [
  {
    label: '12 Month Average Volume',
    data: rawData.colC,
    borderColor: GOLD,
    backgroundColor: GOLD + '18',
    borderWidth: 2.2,
    pointRadius: 0,
    pointHoverRadius: 5,
    pointHoverBackgroundColor: GOLD,
    tension: 0.3,
    fill: false,
    spanGaps: true,
  },
  {
    label: 'Lower Trend Line',
    data: rawData.colF,
    borderColor: GREEN,
    backgroundColor: GREEN + '18',
    borderWidth: 2.2,
    pointRadius: 0,
    pointHoverRadius: 5,
    pointHoverBackgroundColor: GREEN,
    tension: 0.3,
    fill: false,
    spanGaps: true,
  },
  {
    label: 'Upper Trend Line',
    data: rawData.colG,
    borderColor: RED,
    backgroundColor: RED + '18',
    borderWidth: 2.2,
    pointRadius: 0,
    pointHoverRadius: 5,
    pointHoverBackgroundColor: RED,
    tension: 0.3,
    fill: false,
    spanGaps: true,
  },
];

const ctx = document.getElementById('volumeChart').getContext('2d');

const chart = new Chart(ctx, {
  type: 'line',
  data: {
    labels: rawData.labels,
    datasets: datasets,
  },
  options: {
    responsive: true,
    maintainAspectRatio: false,
    interaction: {
      mode: 'index',
      intersect: false,
    },
    plugins: {
      legend: { display: false },
      tooltip: {
        backgroundColor: NAVY,
        titleFont: { family: 'Manrope', size: 12, weight: '600' },
        bodyFont: { family: 'Manrope', size: 11 },
        padding: 12,
        cornerRadius: 4,
        displayColors: true,
        boxPadding: 4,
        callbacks: {
          title: function(items) {
            const idx = items[0].dataIndex;
            let yr = '';
            for (let i = idx; i >= 0; i--) {
              if (rawData.labels[i] && rawData.labels[i].length === 4) {
                yr = rawData.labels[i];
                break;
              }
            }
            const monthNum = idx - rawData.labels.indexOf(yr);
            const months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
            const mo = months[monthNum % 12] || '';
            return mo + ' ' + yr;
          },
          label: function(ctx) {
            const val = ctx.parsed.y;
            if (val == null) return '';
            return ' ' + ctx.dataset.label + ': $' + val.toFixed(2) + 'B';
          }
        }
      }
    },
    scales: {
      x: {
        grid: { color: GRID, lineWidth: 0.5 },
        ticks: {
          color: NAVY,
          font: { family: 'Manrope', size: 10 },
          maxRotation: 45,
          autoSkip: true,
          autoSkipPadding: 20,
          callback: function(value, index) {
            const label = rawData.labels[index];
            return (label && label.length === 4) ? label : null;
          }
        },
        border: { color: GRID }
      },
      y: {
        grid: { color: GRID, lineWidth: 0.5 },
        ticks: {
          color: NAVY,
          font: { family: 'Manrope', size: 10 },
          callback: function(value) {
            return '$' + value.toFixed(0) + 'B';
          }
        },
        border: { color: GRID }
      }
    }
  }
});

// Custom legend with toggle
const legendEl = document.getElementById('legend');
const colors = [GOLD, GREEN, RED];

datasets.forEach((ds, i) => {
  const item = document.createElement('div');
  item.className = 'legend-item';
  item.innerHTML = `<div class="legend-dot" style="background:${colors[i]}"></div>${ds.label}`;
  item.addEventListener('click', () => {
    const meta = chart.getDatasetMeta(i);
    meta.hidden = !meta.hidden;
    item.classList.toggle('inactive', meta.hidden);
    chart.update();
  });
  legendEl.appendChild(item);
});
</script>
</body>
</html>